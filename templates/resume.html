{% extends "_base.html" %} {% block head %}
<title>{{ blog.title }}</title>
<meta name="description" content="Resume - Taemin Yoon" />
<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.min.css"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/rust.min.js"></script>
<script src="/js/resume-toc.js?v=4" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        hljs.highlightAll();
    });
</script>
<style>
    /* Remove highlight.js background, keep original prose background */
    article pre code.hljs {
        background: inherit !important;
        color: hsl(var(--bc)) !important;
    }
</style>
{% endblock %}

{% block header %}
<header
    class="bg-base-300/90 text-base-content backdrop-blur-sm nav-shadow sticky top-0 z-30 transition-all duration-300"
>
    <div class="navbar container mx-auto px-4">
        <div class="flex-1 justify-center">
            <span
                class="text-xl md:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary"
            >
                {{ blog.title }}
            </span>
        </div>
        <div class="flex-none">
            <button
                id="theme-toggle"
                class="btn btn-circle btn-ghost transition-all duration-300 hover:bg-primary/10"
            >
                <i class="ph ph-sun text-lg theme-light"></i>
                <i class="ph ph-moon text-lg theme-dark hidden"></i>
            </button>
        </div>
    </div>
</header>
{% endblock %}

{% block main %}
<div class="container mx-auto px-4 py-6 max-w-7xl">
    <div class="flex flex-col lg:flex-row gap-8">
        <!-- Main Content -->
        <div class="flex-1 w-full max-w-4xl mx-auto lg:mx-0">
            <!-- Content Section -->
            <article id="resume-content" class="prose prose-lg max-w-none">
                {{ content|safe }}
            </article>
        </div>

        <!-- Table of Contents - Sticky on right -->
        <aside class="hidden xl:block w-80 flex-shrink-0">
            <div class="sticky top-24">
                <div
                    class="card bg-base-100 shadow-lg rounded-xl border border-base-300/20 p-6"
                >
                    <h2 class="text-lg font-bold mb-4 flex items-center gap-2">
                        <i class="ph ph-list text-primary"></i>
                        TOC
                    </h2>
                    <nav id="toc" class="space-y-1">
                        <!-- TOC will be generated here -->
                    </nav>
                </div>
            </div>
        </aside>
    </div>
</div>
{% endblock %}
